FROM node:18-alpine

WORKDIR /app

# Install dependencies first
COPY package*.json ./
RUN npm install express cors multer axios dotenv --save

# Then copy source code
COPY server.js .

EXPOSE 8002

CMD ["npm", "start"]